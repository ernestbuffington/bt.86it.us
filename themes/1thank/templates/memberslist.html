<!-- INCLUDE themes/1thank/templates/overall_header.html -->

<!-- IF S_NOTICE -->
<!-- IF S_ERROR --><div id="errorbox" ><!-- ELSE --><div id="successbox" ><!-- ENDIF -->
<span class="errorbox-title">{L_MESSAGE}</span>
<p>{S_ERROR_MESS}</p>
</div>
<!-- ENDIF -->
<!-- IF GROUP_LIST -->
{$CA_BLOCK_START}
{$CA_CAP2_START}{L_GROUP_INFORMATION}{$CA_CAP2_END}
<table class="tablebg" width="100%" cellspacing="{$CA_SPACING}">
<tr class="bg4">
    <td class="row1" width="20%"><strong class="genmed">{L_GROUP_NAME}:</strong></td>
    <td class="row2"><strong class="gen"<!-- IF GROUP_COLOR --> style="color:#{GROUP_COLOR}"<!-- ENDIF -->>{GROUP_NAME}</strong></td>
</tr>
<tr class="bg4">
    <td class="row1" width="20%"><strong class="genmed">{L_GROUP_DESC}:</strong></td>
    <td class="row2"><span class="gen">{GROUP_DESC}</span><p class="forumdesc">{GROUP_TYPE}</p></td>
</tr>
</table>
{$CA_BLOCK_END}
<br />
<!-- ENDIF -->
<!-- IF S_SEARCH_USER -->

<!-- IF S_IN_SEARCH_POPUP -->
    <script type="text/javascript">
    // <![CDATA[
        function insert_user(user)
        {
            opener.document.forms['{S_FORM_NAME}'].{S_FIELD_NAME}.value = ( opener.document.forms['{S_FORM_NAME}'].{S_FIELD_NAME}.value.length && opener.document.forms['{S_FORM_NAME}'].{S_FIELD_NAME}.type == "textarea" ) ? opener.document.forms['{S_FORM_NAME}'].{S_FIELD_NAME}.value + "\n" + user : user;
        }

        function insert_marked(users)
        {
            if (typeof(users.length) == "undefined")
            {
                if (users.checked)
                {
                    insert_user(users.value);
                }
            }
            else if (users.length > 0)
            {
                for (i = 0; i < users.length; i++)
                {
                    if (users[i].checked)
                    {
                        insert_user(users[i].value);
                    }
                }
            }

            self.close();
        }

        function insert_single(user)
        {
            opener.document.forms['{S_FORM_NAME}'].{S_FIELD_NAME}.value = user;
            self.close();
        }

        /**
        * Mark/unmark checklist
        * id = ID of parent container, name = name prefix, state = state [true/false]
        */
        function marklist(id, name, state)
        {
            var parent = document.getElementById(id);
            if (!parent)
            {
                eval('parent = document.' + id);
            }

            if (!parent)
            {
                return;
            }

            var rb = parent.getElementsByTagName('input');

            for (var r = 0; r < rb.length; r++)
            {
                if (rb[r].name.substr(0, name.length) == name)
                {
                    rb[r].checked = state;
                }
            }
        }
    // ]]>
    </script>
<!-- ENDIF -->

<form method="post" action="{S_MODE_ACTION}" name="search">

{$CA_BLOCK_START}
{$CA_CAP2_START}{L_FIND_USERNAME}{$CA_CAP2_END}
<table class="tablebg" width="100%" cellspacing="{$CA_SPACING}">
<tr>
    <td class="row3" colspan="4"><span class="gensmall">{L_FIND_USERNAME_EXPLAIN}</span></td>
</tr>
<tr>
    <td class="row1"><strong class="genmed">{L_USERNAME}:</strong></td>
    <td class="row2"><input class="post" type="text" name="username" value="{USERNAME}" /></td>
    <td class="row1"><strong class="genmed">{L_ICQ}:</strong></td>
    <td class="row2"><input class="post" type="text" name="icq" value="{ICQ}" /></td>
</tr>
<tr>
<!-- IF S_EMAIL_SEARCH_ALLOWED -->
    <td class="row1"><strong class="genmed">{L_EMAIL}:</strong></td>
    <td class="row2"><input class="post" type="text" name="email" value="{EMAIL}" /></td>
<!-- ELSE -->
    <td colspan="2" class="row1">&nbsp;</td>
<!-- ENDIF -->
    <td class="row1"><strong class="genmed">{L_AIM}:</strong></td>
    <td class="row2"><input class="post" type="text" name="aim" value="{AIM}" /></td>
</tr>
<tr>
    <td class="row1"><strong class="genmed">{L_JOINED}:</strong></td>
    <td class="row2"><select name="joined_select">{S_JOINED_TIME_OPTIONS}</select> <input class="post" type="text" name="joined" value="{JOINED}" /></td>
    <td class="row1"><strong class="genmed">{L_YIM}:</strong></td>
    <td class="row2"><input class="post" type="text" name="yahoo" value="{YAHOO}" /></td>
</tr>
<tr>
<!-- IF S_VIEWONLINE -->
    <td class="row1"><strong class="genmed">{L_LAST_ACTIVE}:</strong></td>
    <td class="row2"><select name="active_select">{S_ACTIVE_TIME_OPTIONS}</select> <input class="post" type="text" name="active" value="{ACTIVE}" /></td>
<!-- ELSE -->
    <td colspan="2" class="row1">&nbsp;</td>
<!-- ENDIF -->
    <td class="row1"><strong class="genmed">{L_MSNM}:</strong></td>
    <td class="row2"><input class="post" type="text" name="msn" value="{MSNM}" /></td>
</tr>
<tr>
    <td class="row1"><strong class="genmed">{L_POSTS}:</strong></td>
    <td class="row2"><select name="count_select">{S_COUNT_OPTIONS}</select> <input class="post" type="text" name="count" value="{COUNT}" /></td>
    <td class="row1"><strong class="genmed">{L_JABBER}:</strong></td>
    <td class="row2"><input class="post" type="text" name="jabber" value="{JABBER}" /></td>
</tr>
<tr>
    <td class="row1"><strong class="genmed">{L_SORT_BY}:</strong></td>
    <td class="row2" nowrap="nowrap"><select name="sk">{S_SORT_OPTIONS}</select> <select name="sd">{S_ORDER_SELECT}</select>&nbsp;</td>
<!-- IF S_IP_SEARCH_ALLOWED -->
    <td class="row1"><strong class="genmed">{L_POST_IP}:</strong></td>
    <td class="row2"><input class="post" type="text" name="ip" value="{IP}" /></td>
</tr>
<tr>
    <td class="row1"><strong class="genmed">{L_GROUP}:</strong></td>
    <td class="row2" nowrap="nowrap"><select name="search_group_id">{S_GROUP_SELECT}</select></td>
    <td class="row1">&nbsp;</td>
    <td class="row2">&nbsp;</td>
</tr>
<!-- ELSE -->
    <td class="row1"><strong class="genmed">{L_GROUP}:</strong></td>
    <td class="row2" nowrap="nowrap"><select name="search_group_id">{S_GROUP_SELECT}</select></td>
</tr>
<!-- ENDIF -->
<tr>
    <td class="catf" colspan="4" align="center"><input class="btnmain" type="submit" name="submit" value="{L_SEARCH}" />&nbsp;&nbsp;<input class="btnlite" type="reset" value="{L_RESET}" /></td>
</tr>
</table>
{$CA_BLOCK_END}
{S_FORM_TOKEN}
</form>

<br clear="all" />
<!-- ENDIF -->
<!-- IF not S_SHOW_GROUP -->
    <form method="post" name="charsearch" action="{S_MODE_ACTION}">
        <table width="100%" cellspacing="1">
        <tr>
            <td align="{S_CONTENT_FLOW_BEGIN}"><span class="genmed">{L_USERNAME_BEGINS_WITH}: </span>
                <select name="first_char" onchange="this.form.submit();">
                    <!-- BEGIN first_char -->
                        <option value="{first_char.VALUE}"<!-- IF first_char.S_SELECTED --> selected="selected"<!-- ENDIF -->>{first_char.DESC}</option>
                    <!-- END first_char -->
                </select>&nbsp;<input type="submit" name="char" value="{L_DISPLAY}" class="btnlite" /></td>
    <!-- IF U_FIND_MEMBER and not S_SEARCH_USER -->
            <td class="genmed" align="{S_CONTENT_FLOW_END}"><a href="{U_FIND_MEMBER}">{L_FIND_USERNAME}</a></td>
    <!-- ELSEIF S_SEARCH_USER and U_HIDE_FIND_MEMBER and not S_IN_SEARCH_POPUP -->
            <td class="genmed" align="{S_CONTENT_FLOW_END}"><a href="{U_HIDE_FIND_MEMBER}">{L_HIDE_MEMBER_SEARCH}</a></td>
    <!-- ENDIF -->
        </tr>
        </table>
        {S_FORM_TOKEN}
    </form>
<!-- ENDIF -->

<!-- IF S_IN_SEARCH_POPUP -->
    <form method="post" name="results" action="{S_MODE_ACTION}" onsubmit="insert_marked(this.user);return false">
<!-- ELSE -->
    <form method="post" action="{S_MODE_ACTION}">
<!-- ENDIF -->
{$CA_BLOCK_START}
{$CA_CAP2_START}{L_MEMBERLIST}{$CA_CAP2_END}
<table class="tablebg" width="100%" cellspacing="{$CA_SPACING}">
<tr>
    <th nowrap="nowrap" width="25%" align="{S_CONTENT_FLOW_BEGIN}"><a href="{U_SORT_USERNAME}">{L_USERNAME}</a></th>
    <th nowrap="nowrap" width="15%"><a href="{U_SORT_JOINED}">{L_JOINED}</a></th>
    <th nowrap="nowrap" width="10%"><a href="{U_SORT_POSTS}">{L_POSTS}</a></th>
    <th nowrap="nowrap" width="11%">{L_SEND_MESSAGE}</th>
    <th nowrap="nowrap" width="11%"><a href="{U_SORT_EMAIL}">{L_EMAIL}</a></th>
    <!-- IF S_IN_SEARCH_POPUP and not S_SELECT_SINGLE --><th width="2%" nowrap="nowrap">{L_MARK}</th><!-- ENDIF -->
</tr>
<!-- BEGIN memberrow -->

    <!-- IF S_SHOW_GROUP -->
        <!-- IF memberrow.S_FIRST_ROW and memberrow.S_GROUP_LEADER -->
            <tr>
                <td class="bg4" colspan="8"><strong class="gensmall">{L_GROUP_LEADER}</strong></td>
            </tr>
        <!-- ELSEIF not memberrow.S_GROUP_LEADER and not $S_MEMBER_HEADER -->
            <tr>
                <td class="bg4" colspan="8"><strong class="gensmall">{L_GROUP_MEMBERS}</strong></td>
            </tr>
                <!-- DEFINE $S_MEMBER_HEADER = 1 -->
        <!-- ENDIF -->
    <!-- ENDIF -->

    <!-- IF memberrow.S_ROW_COUNT is even --><tr class="bg4"><!-- ELSE --> <tr class="bg4"><!-- ENDIF -->

        <td class="genmed row" align="{S_CONTENT_FLOW_BEGIN}">{memberrow.USERNAME_FULL}<!-- IF S_SELECT_SINGLE --> [&nbsp;<a href="#" onclick="insert_single('{memberrow.A_USERNAME}'); return false;">{L_SELECT}</a>&nbsp;]<!-- ENDIF --></td>
        <td class="genmed row" align="center" nowrap="nowrap">&nbsp;{memberrow.JOINED}&nbsp;</td>
        <td class="gen row" align="center">{memberrow.POSTS}</td>
        <td class="gen row" align="center">&nbsp;<!-- IF memberrow.U_PM --><div class="postbody"><ul class="profile-icons"><li class="pm-icon"><a class="pm-icon" href="{memberrow.U_PM}"><span>{L_PRIVATE_MESSAGE}</span></a></li></ul></div><!-- ENDIF -->&nbsp;</td>
        <td class="gen row" align="center">&nbsp;<!-- IF memberrow.U_EMAIL --><div class="postbody"><ul class="profile-icons"><li class="email-icon"><a href="{memberrow.U_EMAIL}"><span>{L_EMAIL}</span></a></li></ul></div><!-- ENDIF -->&nbsp;</td>
        <!-- IF memberrow.S_PROFILE_FIELD1 -->
            <!-- Use a construct like this to include admin defined profile fields. Replace FIELD1 with the name of your field. -->
            <td class="gen row" align="center">&nbsp;{memberrow.PROFILE_FIELD1_VALUE}</td>
        <!-- ENDIF -->
        <!-- IF S_IN_SEARCH_POPUP and not S_SELECT_SINGLE --><td align="center"><input type="checkbox" class="radio" name="user" value="{memberrow.USERNAME}" /></td><!-- ENDIF -->
    </tr>

<!-- BEGINELSE -->

    <tr>
        <td class="row1" colspan="<!-- IF S_IN_SEARCH_POPUP -->9<!-- ELSE -->8<!-- ENDIF -->" align="center">
            <span class="gen"><!-- IF S_SHOW_GROUP -->{L_NO_GROUP_MEMBERS}<!-- ELSE -->{L_NO_MEMBERS}<!-- ENDIF --></span>
        </td>
    </tr>

<!-- END memberrow -->

<tr>
    <td class="catf" colspan="<!-- IF S_IN_SEARCH_POPUP -->9<!-- ELSE -->8<!-- ENDIF -->" align="center"><!-- IF S_IN_SEARCH_POPUP and not S_SELECT_SINGLE --><input class="btnlite" type="submit" value="{L_SELECT_MARKED}" /><!-- ELSE --><span class="gensmall">{L_SELECT_SORT_METHOD}:</span>&nbsp;<select name="sk">{S_MODE_SELECT}</select>&nbsp; <span class="gensmall">{L_ORDER}</span>&nbsp;<select name="sd">{S_ORDER_SELECT}</select>&nbsp; <input type="submit" name="submit" value="{L_SUBMIT}" class="btnlite" /><!-- ENDIF --></td>
</tr>
</table>
{$CA_BLOCK_END}
{S_FORM_TOKEN}
</form>

<table width="100%" cellspacing="0" cellpadding="0">
<tr>
    <td class="pagination">{PAGE_NUMBER} [ {TOTAL_USERS} ]</td>
    <td align="{S_CONTENT_FLOW_END}"><!-- IF S_IN_SEARCH_POPUP and not S_SELECT_SINGLE --><strong class="nav"><a href="#" onclick="marklist('results', 'user', true); return false;">{L_MARK_ALL}</a> :: <a href="#" onclick="marklist('results', 'user', false); return false;">{L_UNMARK_ALL}</a></strong><br /><!-- ENDIF --><span class="pagination"><!-- INCLUDE themes/1thank/templates/pagination.html --></span></td>
</tr>
</table>



    <!-- INCLUDE themes/1thank/templates/overall_footer.html -->